<!DOCTYPE html>
<meta charset="utf-8">
<title>WebSocket Opener</title>
<script>
  window.addEventListener("message", function (event) {
    const socket = new WebSocket(event.data);

    socket.onopen = () => {
      parent.postMessage("open", "*");
    };
    socket.onclose = () => {
      parent.postMessage("close", "*");
    };
    socket.onerror = (error) => {
      parent.postMessage(`error: ${error.toString()}`, "*");
    };
  });
</script>
